/* ==========================
   Variáveis de cor
========================== */
:root{
  --brand:#4f46e5;         /* indigo-600 */
  --brand-strong:#4338ca;  /* indigo-700 */
  --accent:#fc7e00;        /* laranja do hover */
}

/* ==========================
   Base & tipografia
========================== */
html{
  box-sizing:border-box;
  -webkit-text-size-adjust:100%;
}
*,*::before,*::after{ box-sizing:inherit; }

html,body{
  margin:0;
  padding:0;
  width:100%;
  max-width:100%;
  overflow-x:hidden; /* fallback: prevenindo corte lateral */
  font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background-color:#f3f4f6;
  color:#1f2937;
}

/* Tipografia fluida segura */
h1{ font-size:clamp(1.25rem,4.5vw,2rem); line-height:1.2; }
h2{ font-size:clamp(1.125rem,3.5vw,1.5rem); line-height:1.25; }
p , li{ font-size:clamp(.95rem,2.8vw,1rem); line-height:1.5; }

/* Quebra palavras longas (URLs, códigos) */
.break-words, .content, p, li{
  overflow-wrap:anywhere;
  word-break:break-word;
}

/* Mídia nunca maior que a tela */
img, video, canvas, svg{
  max-width:100%;
  height:auto;
  display:block;
}

/* ==========================
   Containers
========================== */
/* container central com safe-area (notch) */
.container-custom{
  width:min(100%,1024px);
  margin-inline:auto;
  padding-inline:clamp(12px,4vw,24px);
  padding-left:max(env(safe-area-inset-left), clamp(12px,4vw,24px));
  padding-right:max(env(safe-area-inset-right), clamp(12px,4vw,24px));
}

/* elementos comuns nunca ultrapassam a largura */
section, header, main, div, ul, li,
.form-section, .list-section,
.form-grid, .form-grid > *{
  max-width:100%;
}

/* ==========================
   Suavizar troca entre telas
========================== */
#loginSection, #sistema{ transition:opacity .3s ease; }

.is-hidden{
  opacity:0; pointer-events:none;
  position:absolute; inset:auto;
  transition:opacity .3s ease;
}

@media (prefers-reduced-motion: reduce){
  #loginSection, #sistema,
  .form-grid input, .form-grid select, .form-grid textarea,
  .form-grid button{ transition:none !important; }
}

/* ==========================
   Seções principais (cards)
========================== */
.form-section, .list-section{
  background-color:#fff;
  border-left:4px solid var(--brand);
  border-radius:1rem;
  padding:2rem;
  margin-bottom:3rem;
  box-shadow:0 10px 15px -3px rgba(0,0,0,.1);
}

/* ==========================
   Título das seções
========================== */
.section-title{
  font-size:1.5rem;
  font-weight:700;
  margin-bottom:1.5rem;
  text-align:center;
}

/* ==========================
   Grid do formulário
========================== */
.form-grid{
  display:grid;
  grid-template-columns:1fr;
  gap:1rem;
  width:100%;
  min-width:0; /* permite encolher em telas estreitas */
}
@media (min-width:768px){
  .form-grid{ grid-template-columns:repeat(2,1fr); }
  .form-grid textarea,
  .form-grid .full,
  .form-grid button[type="submit"]{ grid-column:span 2; }
}

/* ==========================
   Inputs, selects e textarea
========================== */
.form-grid input,
.form-grid select,
.form-grid textarea{
  padding:.75rem;
  border:1px solid #d1d5db;
  border-radius:.75rem;
  font-size:1rem;
  box-shadow:0 1px 2px rgba(0,0,0,.05);
  width:100%;
  max-width:100%;
  min-height:48px;
  background-color:#fff;
  min-width:0; /* evita “estouro” em flex/grid */
}

.form-grid textarea{
  resize:vertical;
  min-height:100px;
}

/* datetime-local unificado */
input[type="datetime-local"]{
  height:48px;
  padding:.75rem .5rem .75rem .75rem; /* Safari fix */
  border:1px solid #d1d5db;
  border-radius:.75rem;
  font-size:1rem;
  box-shadow:0 1px 2px rgba(0,0,0,.05);
  width:100%;
  max-width:100%;
  background-color:#fff;
  appearance:none; -webkit-appearance:none;
  min-width:0;
}

/* Foco acessível */
.form-grid input:focus-visible,
.form-grid select:focus-visible,
.form-grid textarea:focus-visible{
  outline:none;
  border-color:var(--brand);
  box-shadow:0 0 0 3px rgba(99,102,241,.3);
}

/* ==========================
   Botões do formulário
========================== */
.form-grid button{
  background-color:var(--brand);
  color:#fff;
  padding:.75rem;
  border-radius:.75rem;
  transition:background-color .2s, transform .2s;
  font-weight:600;
  font-size:1rem;
  width:100%;
  max-width:100%;
}
.form-grid button:hover{
  background-color:var(--accent);
  transform:scale(1.02);
}

/* ==========================
   Lista de eventos
========================== */
.list-section ul{ margin-top:1rem; padding:0; overflow-x:hidden; }
.list-section li{
  list-style:none;
  border:1px solid #e5e7eb;
  border-radius:.75rem;
  padding:1rem;
  box-shadow:0 1px 3px rgba(0,0,0,.05);
  background:#fff;
}

#listaEventos[aria-busy="true"]{
  opacity:.6; pointer-events:none;
}

#estadoVazio{
  text-align:center;
  padding:1rem;
  border:1px dashed #d1d5db;
  border-radius:.75rem;
  color:#6b7280;
}

/* Botões Editar/Excluir */
.btn-edit{ background-color:#10b981; color:#fff; }
.btn-edit:hover{ background-color:#059669; }
.btn-delete{ background-color:#ef4444; color:#fff; }
.btn-delete:hover{ background-color:#dc2626; }

/* ==========================
   Tela de Login com imagem
========================== */
#loginSection{
  background-image:url("imagens/fachada.png");
  background-size:cover;
  background-position:center;
  min-height:100vh;
  position:relative;
  isolation:isolate; /* segura o pseudo-elemento */
}
#loginSection::before{
  content:"";
  position:absolute; inset:0;
  background-color:rgba(0,0,0,.5);
  z-index:-1; /* fica atrás do conteúdo, à frente do bg */
}
#loginSection > div{
  background-color:rgba(255,255,255,.95);
  backdrop-filter:blur(4px);
  padding:2rem;
  border-radius:1rem;
  width:100%;
  max-width:400px;
  margin:auto;
  box-shadow:0 10px 15px rgba(0,0,0,.15);
}

/* ==========================
   Refinamentos visuais
========================== */
.section-title.text-indigo-700,
.section-title.text-purple-700{ text-align:left; }

.list-section .section-title{ margin-bottom:1rem; }

/* ==========================
   Tabelas largas (rolagem x)
========================== */
.table-wrap{
  overflow-x:auto;
  -webkit-overflow-scrolling:touch;
}
.table-wrap table{
  width:100%;
  border-collapse:collapse;
}

/* ==========================
   Header / Mobile fixes
========================== */
header .container, header .container > *{ min-width:0; }

@media (max-width:640px){
  header .container{
    display:flex;
    flex-wrap:wrap;   /* quebra linha se precisar */
    gap:.5rem 1rem;
  }
  header h1{
    font-size:1.25rem;
    line-height:1.4;
    overflow-wrap:anywhere;
    flex:1 1 100%;
  }
  header button{ flex:0 0 auto; }

  /* reforça padding lateral no conteúdo */
  .container, .container-custom, main.container{
    padding-left:1rem;
    padding-right:1rem;
  }
}
